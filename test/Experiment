#!/bin/bash

# --- Test experiment
# Try to fetch, compile and run every supported partitioner on a small graph 
# stored in a file + using the KaGen driver

System generic

Graph graphs/add20
KaGen rgg2d n=10 m=15

Seeds 1 
Ks 2

_Experiment_dKaMinPar() {
    MPI OpenMPI
    Threads 1x1x1

    DefineAlgorithm dKaMinPar-FM dKaMinPar -P fm
    Algorithms dKaMinPar-FM
}

_Experiment_XtraPuLP() {
    MPI OpenMPI
    Threads 1x1x1

    Algorithms XtraPuLP
}

_Experiment_ParHIP() {
    MPI OpenMPI
    Threads 1x1x1

    DefineAlgorithm ParHIP-Fast ParHIP --preconfiguration=fastsocial
    Algorithms ParHIP-Fast
}

_Experiment_KaMinPar() {
    MPI taskset
    Threads 1x1x1

    DefineAlgorithm KaMinPar-FM KaMinPar -P fm
    Algorithms KaMinPar-FM
}

_Experiment_MtKaHIP() {
    MPI taskset
    Threads 1x1x1

    DefineAlgorithm MtKaHIP-Fast MtKaHIP --preconfiguration=fastsocialparallel
    Algorithms MtKaHIP-Fast
}
